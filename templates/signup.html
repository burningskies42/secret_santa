{% extends "main.html" %}
{% block content %}
{% with messages = get_flashed_messages() %}
<div class="container">
  <h2 class="title">Register</h2>
  <br>
  {% if messages %}
      <div class="notification is-danger">
          {{ messages[0] }}. Go to <a href="{{ url_for('auth.login') }}">login page</a>.
      </div>
      <br>
  {% endif %}
  {% endwith %}
  <div class="column is-4 is-offset-0">
    <form method="POST" action="/signup">
      {{ form.hidden_tag() }}
      {% for field in form if field.widget.input_type != "hidden" %}
      <p>
          {{ field.label }} <br>
          {{ field }}
          <span>
            {% if field.errors %}
              {% for error in field.errors %}
                {{ error }}
              {% endfor %}
            {% endif %}
          </span>
        </p>
        <br>
      {% endfor %}
      <input type="submit" value="Enter">
    </form>
  </div>
</div>
{% if error %}
    <p class="error"><strong>Error:</strong> {{ error }}
{% endif %}
{% endblock %}
